import{_ as R}from"./index.20240610204818.js";import{_ as V}from"./index.20240610204819.js";import{_ as z}from"./index.20240610204820.js";import{r as k,d as D,o as $,u as q,a as p,b as f,c,e as o,f as i,g as t,h as a,w as r,F as h,i as y,j as F,k as b,t as d,l as O,p as U,m as j,_ as H}from"./index.202406102048.js";import{A as Y}from"./index.20240610204821.js";import{I as J}from"./good.202406102048.js";import"./index.20240610204822.js";function K(n){return k({url:"/banner/list",method:"get",params:n})}function Q(n){return k({url:"/banner/types",method:"get",params:n})}const W={bannerList:K,bannerTypes:Q},w=n=>(U("data-v-d7098571"),n=n(),j(),n),X={class:"container"},Z={class:"swiper"},ee={class:"main"},te={class:"list"},se=["onClick"],ne={key:0,class:"list-item-badge"},oe={class:"list-item-info"},ae={class:"list-item-title"},ie={class:"list-item-price"},ce={class:"price"},re={class:"price-current"},le=w(()=>t("span",{class:"price-current-symbol"},"¥",-1)),_e={class:"price-current-integer"},pe={key:0,class:"price-origin"},de=w(()=>t("span",{class:"price-origin-symbol"},"¥",-1)),ue={class:"price-origin-integer"},me={name:"Home"},ve=D({...me,setup(n){$(()=>{var s;C(),(s=m.value)==null||s.loadData()});const S=q(),u=p([]);function C(){W.bannerList({type:"indexBanner"}).then(s=>{u.value=s.data||[]})}function x(s){s&&(window.location.href=s)}const m=p(null),l=p([]),_=f({pageCurrent:1,pageSize:10}),I=f({loadingText:"努力加载中...",emptyText:"暂无商品",emptyImage:J});function L(){const s={page:_.pageCurrent,pageSize:_.pageSize};return Y.goodsList(s)}function B(s){S.push({path:"/good/detail",query:{id:s}})}return(s,v)=>{const g=c("van-image"),P=c("van-swipe-item"),T=c("van-swipe"),N=z,A=c("van-button"),E=V,G=R;return o(),i("div",X,[t("div",Z,[a(T,{autoplay:5e3,class:"swiper"},{default:r(()=>[(o(!0),i(h,null,y(u.value,e=>(o(),F(P,{key:e.id,class:"swiper-item",onClick:M=>x(e.linkUrl)},{default:r(()=>[a(g,{class:"swiper-item-img",fit:"cover",src:e.picUrl,alt:e.title},null,8,["src","alt"])]),_:2},1032,["onClick"]))),128))]),_:1})]),t("div",ee,[a(N,{class:"section-header",title:"商品列表"}),a(E,{ref_key:"listRef",ref:m,dataSource:l.value,"onUpdate:dataSource":v[0]||(v[0]=e=>l.value=e),mode:"infinite",api:L,pagination:_,meta:I},{default:r(()=>[t("div",te,[(o(!0),i(h,null,y(l.value,e=>(o(),i("div",{key:e.id,class:"list-col"},[t("div",{class:"list-item",onClick:M=>B(e.id)},[e.recommendStatus?(o(),i("div",ne,"推荐")):b("",!0),a(g,{class:"list-item-photo",src:e.pic,alt:e.name},null,8,["src","alt"]),t("div",oe,[t("div",ae,d(e.name),1),t("div",ie,[t("div",ce,[t("div",re,[le,t("span",_e,d(e.minPrice),1)]),e.originalPrice>0?(o(),i("div",pe,[de,t("span",ue,d(e.originalPrice),1)])):b("",!0)]),a(A,{type:"primary",plain:"",class:"buy-btn"},{default:r(()=>[O("购买")]),_:1})])])],8,se)]))),128))])]),_:1},8,["dataSource","pagination","meta"])]),a(G)])}}});const Se=H(ve,[["__scopeId","data-v-d7098571"]]);export{Se as default};
