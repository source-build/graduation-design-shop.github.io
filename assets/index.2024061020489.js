import{_ as k}from"./index.20240610204819.js";import{N as F}from"./index.es.202406102048.js";import{A as C}from"./index.20240610204824.js";import{o as S}from"./afterSale.202406102048.js";import{_ as x,c as u,e as r,f as n,h as _,w as p,g as o,F as b,i as A,t as c,S as N,k as m,j as B,l as E}from"./index.202406102048.js";import"./index.20240610204822.js";const I={data(){return{list:[],pagination:{pageCurrent:1,pageSize:20},listMeta:{emptyText:"暂无售后"}}},methods:{getDataList(){const t={statusBatch:"1,2,3,4",page:this.pagination.pageCurrent,pageSize:this.pagination.pageSize};return C.orderList(t)},listAfterFetch(t){return S((t==null?void 0:t.orderList)??[],(t==null?void 0:t.goodsMap)??[])},onOrderClicked(t){const{id:a,afterSale:d,amountSingle:l,number:s,orderInfo:i}=t;this.$router.push({path:"/refund/apply",query:{orderId:i.id,orderGoodsId:a,afterSale:d,amount:F.times(l,s)}})}}};const L={class:"container"},D={class:"list"},z={class:"list-item-header van-hairline--bottom"},M={class:"list-item-header-hd"},O={class:"title"},V=["onClick"],P={key:0,class:"good-card"},w={class:"good-card-content"},R={class:"good-card-title"},T={key:0,class:"good-card-prop"},j={class:"good-card-number"},q={class:"list-item-footer van-hairline--top"},G={key:1};function U(t,a,d,l,s,i){const h=u("van-image"),g=u("van-button"),f=k;return r(),n("div",L,[_(f,{dataSource:s.list,"onUpdate:dataSource":a[0]||(a[0]=e=>s.list=e),mode:"infinite",api:i.getDataList,afterFetch:i.listAfterFetch,pagination:s.pagination,meta:s.listMeta,immediate:""},{default:p(()=>[o("div",D,[(r(!0),n(b,null,A(s.list,(e,v)=>(r(),n("div",{key:v,class:"list-item"},[o("div",z,[o("div",M,[o("span",O,"订单编号："+c(e.orderInfo.orderNumber),1)]),o("div",{class:N(["list-item-header-state",e.status!==-1?"text-primary-color":""])},c(e.orderInfo.statusStr),3)]),o("div",{class:"list-item-body",onClick:y=>i.onOrderClicked(e)},[e?(r(),n("div",P,[_(h,{fit:"contain",class:"good-card-pic",src:e.pic},null,8,["src"]),o("div",w,[o("div",R,c(e.goodsName),1),e.property?(r(),n("div",T,c(e.property),1)):m("",!0),o("div",j,"数量："+c(e.number),1)])])):m("",!0)],8,V),o("div",q,[e.afterSale?(r(),B(g,{key:0,class:"list-item-action-btn",round:"",plain:"",type:"primary",onClick:y=>i.onOrderClicked(e)},{default:p(()=>[E(" 申请售后 ")]),_:2},1032,["onClick"])):(r(),n("span",G,"不支持售后退换服务"))])]))),128))])]),_:1},8,["dataSource","api","afterFetch","pagination","meta"])])}const Y=x(I,[["render",U],["__scopeId","data-v-332192d8"]]);export{Y as default};
